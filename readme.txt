 Georgios Georgiou - Γεώργιος Γεωργίου - sdi1800220 - 1115201800220
 Panagiotis Mavrommatis - Παναγιώτης Μαυρομμάτης - sdi1800115 - 1115201800115

GitHub Link: https://github.com/blackeye18/Curves-Lsh-Hypercube-Clustering

Τιτλος: Finding nearest neighour using LSH with curves and Clustering using kmeans++ and either Lloyds or LSH for curves.

Περιγραφή: Στο Α κομμάτι της εργασίας, βρίσκουμε τον κοντινότερο γείτονα, χρησιμοποιώντας είτε τον αλγόριθμο LSH είτε τον αλγόριθμο Hypercube για vectors είτε τον αλγόριθμο LSH Frechet για καμπύλες, είτε με continuous απόσταση είτε με discrete. Για να γίνει σύγκριση αποτελεσμάτων, υπολογίζουμε και σειριακά τους κοντινότερους γείτονες.
Στο Β κομμάτι της εργασίας κάνουμε clustering, παίρνοντας τα αρχικά centroids με την βοήθεια του αλγόριθμου kmeans++. Σε δεύτερη φάση, χρησιμοποιούμε είτε τον αλγόριθμο Lloyds, είτε κάνουμε radius search στο LSH ή στο Hypercube, για να υπολογίσουμε τα νέα, καλύτερα, centroids. Σε περίπτωση που χρησιμοποιούμε καμπύλες, παίρνουμε τα αρχικά centroids με την βοήθεια του αλγόριθμου kmeans++ και σε δεύτερη φάση χρησιμοποιούμε είτε τον αλγόριθμο Lloyds, είτε κάνουμε radius search στο LSH, χρησιμοποιώντας την discrete απόσταση Frechet. 
Επιπλέον με την χρήση της silhouette βλέπουμε κατά πόσο καλό είναι το clustering που κάναμε.

Ο κώδικας μας θεωρούμε πως έχει αρκετά σχόλια για οποιαδήποτε απορία προκύψει.

Στον φακελο του Search:
Στον φάκελο examples, υπάρχει το αρχείο main_search.cpp που περιέχεται η main του προγράμματος.
Στον φάκελο include περιέχονται ολα τα header file του προγράμματος. Πιο συγκεκριμένα στο αρχείο classes_and_defines περιέχονται όλες οι δηλώσεις των κλάσεων και συναρτήσεων που χρησιμοποιούνται. Επιπλέον υπάρχουν τα defines για τις μεταβλητές του lsh καθώς και για το ποια μετρική θα χρησιμοποιηθεί, πχ euclidean ή p-norm. Στα υπόλοιπα header files υπάρχουν οι δηλώσεις των συναρτήσεων που υπάρχουν στα αντίστοιχα cpp αρχεία.
Στον φάκελο src περιέχονται όλα τα cpp αρχεία που χρησιμοποιούνται πέρα από την main.
Πιο συγκεκριμένα στο αρχείο input_menu_starting_func.cpp υπάρχουν βασικές συναρτήσεις οι οποίες είτε ελέγχουν το πλήθος των arguments, είτε εμφανίζουν και ζητάνε πληροφορίες από τον χρήστη ανάλογα με τα arguments, είτε διαβάζουν τα διανύσματα από τα αρχεία, είτε εμφανίζουν τα διανύσματα, είτε τυπώνουν το αρχείο εξόδου, είτε εμφανίζουν το menu μετά από κάθε τρέξιμο του προγράμματος.
Στο αρχείο lsh_basic_functions.cpp υπάρχουν οι βασικές συναρτήσεις των κλάσεων του lsh, οι συναρτήσεις που υπολογίζουν το h και το g και η συνάρτηση που υπολογίζει το ευκλείδειο υπόλοιπο.
Στο αρχείο knn_ranges_brutes.cpp υπάρχουν οι συναρτήσεις που βρίσκουν του k nearest neighbours και τους r near neighbours, οι συναρτήσεις που υπολογίζουμε με τον απλό τρόπο τους k nearest neighbours καθώς και η συνάρτηση που υπολογίζει την ευκλείδεια απόσταση μεταξύ 2 διανισμάτων στο  d διάστατο χώρο.

Στον φακελο του Hypercube:
Στον φάκελο examples, υπάρχει το αρχείο main_hypercube.cpp που περιέχεται η main του προγράμματος.
Στον φάκελο include περιέχονται τα 4 header file του hypercube. Πιο συγκεκριμένα στο αρχείο classes_and_defines περιέχονται όλες οι δηλώσεις των κλάσεων και συναρτήσεων που χρησιμοποιούνται για το hypercube. Επιπλέον υπάρχουν τα defines για τις μεταβλητές του hypercube καθώς και για το ποια μετρική θα χρησιμοποιηθεί, πχ euclidean ή p-norm. Στα υπόλοιπα header files υπάρχουν οι δηλώσεις των συναρτήσεων που υπάρχουν στα αντίστοιχα cpp αρχεία.
Στον φάκελο src περιέχονται όλα τα cpp αρχεία που χρησιμοποιούνται πέρα από την main.
Πιο συγκεκριμένα στο αρχείο input_menu_starting_func.cpp υπάρχουν βασικές συναρτήσεις οι οποίες είτε ελέγχουν το πλήθος των arguments, είτε εμφανίζουν και ζητάνε πληροφορίες από τον χρήστη ανάλογα με τα arguments, είτε διαβάζουν τα διανύσματα από τα αρχεία, είτε τυπώνουν το αρχείο εξόδου, είτε εμφανίζουν το menu μετά από κάθε τρέξιμο του προγράμματος.
Στο αρχείο cube_basic_functions.cpp υπάρχουν οι βασικές συναρτήσεις των κλάσεων του hypercube, οι συναρτήσεις που υπολογίζουν το h, η συνάρτηση που υπολογίζει το ευκλείδειο υπόλοιπο, και η συνάρτηση που υπολογίζει το Hamming Distance.
Στο αρχείο knn_ranges_brutes.cpp υπάρχουν οι συναρτήσεις που βρίσκουν του k nearest neighbours και τους r near neighbours, οι συναρτήσεις που υπολογίζουμε με τον απλό τρόπο τους k nearest neighbours καθώς και η συνάρτηση που υπολογίζει την ευκλείδεια απόσταση μεταξύ 2 διανυσμάτων στο  d διάστατο χώρο.


Στον φακελο του Clustering:
Στον φάκελο examples, υπάρχει το αρχείο main_clustering.cpp που περιέχεται η main του προγράμματος.
Στον φάκελο include περιέχονται τα 5 header file του hypercube. Πιο συγκεκριμένα στο αρχείο classes_and_defines περιέχονται όλες οι δηλώσεις των κλάσεων και συναρτήσεων που χρησιμοποιούνται για το lsh, hypercube και cluster. Επιπλέον υπάρχουν τα defines για τις μεταβλητές του hypercube και του lsh καθώς και για το ποια μετρική θα χρησιμοποιηθεί, πχ euclidean ή p-norm. Στα υπόλοιπα header files υπάρχουν οι δηλώσεις των συναρτήσεων που υπάρχουν στα αντίστοιχα cpp αρχεία.
Στον φάκελο src περιέχονται όλα τα cpp αρχεία που χρησιμοποιούνται πέρα από την main.
Πιο συγκεκριμένα στο αρχείο input_menu_starting_func.cpp υπάρχουν βασικές συναρτήσεις οι οποίες είτε ελέγχουν το πλήθος των arguments, είτε εμφανίζουν και ζητάνε πληροφορίες από τον χρήστη ανάλογα με τα arguments, είτε διαβάζουν τα διανύσματα από τα αρχεία, είτε τυπώνουν το αρχείο εξόδου, είτε διαβάζουν το configuration file.
Στο αρχείο cube_basic_functions.cpp υπάρχουν οι βασικές συναρτήσεις των κλάσεων του hypercube, και η συνάρτηση που υπολογίζει το Hamming Distance. Επιπλέον υπάρχουν οι συναρτήσεις που κατανέμουν τα σημεία σε clusters με την χρήση hypercube.
Στο αρχείο lsh_basic_functions.cpp υπάρχουν οι βασικές συναρτήσεις των κλάσεων του lsh, οι συναρτήσεις που υπολογίζουν το h και το g, καθώς και h συνάρτηση που υπολογίζει το ευκλείδειο υπόλοιπο. Επιπλέον υπάρχουν οι συναρτήσεις που κατανέμουν τα σημεία σε clusters με την χρήση lsh.
Στο αρχείο cluster_main_functions_silhouette.cpp οι βασικές συναρτήσεις των κλάσεων του cluster, η συνάρτηση που υπολογίζει το νέο μέσο cluster και επιστρέφει την διαφορά του με το παλιό, την συνάρτηση για τον αλγόριθμο Lloyds, την συνάρτηση για τον αλγόριθμο kmeans++, η συνάρτηση repeat που καλεί την ανάλογη μετρική μέχρι να φτάσουμε τον μέγιστο αριθμό iterations  ή την κατάλληλη ακρίβεια. Τέλος υπάρχει η συνάρτηση silhouette που υπολογίζει την αποδοτικότητα του clustering μας στην κατανομή των σημείων σε κέντρα.


Για την μεταγλώττιση:
Κάθε υποπρόγραμμα έχει το δικό του makefile και τρέχει ανεξάρτητα, οπότε η μεταγλώττιση γίνεται γράφοντας την εντολή make στον αντίστοιχο υποκαταλογο. Μπορεί να γίνει απευθείας μεταγλώττιση όλων των υποπρογραμμάτων γράφοντας make στον αρχικό κατάλογο.

Για να τρέξει το πρόγραμμα: 
Σε κάθε υποπρόγραμμα υπάρχει ο φάκελος build, στον οποίο "βγάνουν" τα εκτελέσιμα αρχεία.

Για το LSH:
./lsh 
οπού ο χρήστης δίνει τις παραμέτρους μέσα από το πρόγραμμα
./lsh –i input_small_id –q query_small_id -ο out -Ν 5 -R 1300
όπου το k και το L παίρνουν default  τιμές
./lsh –i input_small_id –q query_small_id -k 7 -L 6 -ο out -Ν 5 -R 1300
όπου όλοι οι παράμετροι δίνονται απο την γραμμή εντολών

Για το Hypercube:
./cube 
οπού ο χρήστης δίνει τις παραμέτρους μέσα από το πρόγραμμα
./cube –i input_small_id –q query_small_id -ο out
όπου οι υπολοιποι παράμετροι παίρνουν default τιμές
./cube –i input_small_id –q query_small_id –k 7 -M 12 -probes 4 -ο out -Ν 5 -R 1300
όπου όλοι οι παράμετροι δίνονται απο την γραμμή εντολών

Για το  cluster η εντολή για να τρέξει το προγραμμα είναι οι εξής:
./cluster -i input_small_id -c cluster.conf -o out -complete -m LSH
./cluster -i input_small_id -c cluster.conf -o out -m LSH




